{"version":3,"file":"static/js/859.baede5ec.chunk.js","mappings":"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","sources":["Components/Header.js","hooks/useDebounce.js"],"sourcesContent":["import React, { useContext, useState, useMemo, useCallback, useEffect } from \"react\";\r\nimport { FcSearch } from \"react-icons/fc\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setUserDetails } from \"../store/userSlice\";\r\nimport Context from \"../Context\";\r\nimport { useDebounce } from \"../hooks/useDebounce\";\r\nimport NotificationBadge from \"../helper/NotificationBadge\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBars, faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport {\r\n  FaWallet,\r\n  FaUser,\r\n  FaStore,\r\n  FaBook,\r\n  FaClipboardList,\r\n} from \"react-icons/fa\";\r\nimport ROLE from \"../common/role\";\r\nimport SummaryApi from \"../common\";\r\nimport { BiSearch } from 'react-icons/bi';\r\nimport SidePanel from \"./SidePanel\";\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n    const dispatch = useDispatch();\r\n    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const { user } = useSelector((state) => state.user);\r\n    const { token } = useContext(Context);\r\n    const navigate = useNavigate();\r\n    const searchInput = useLocation();\r\n\r\n    const searchQuery = useMemo(() => {\r\n        const URLSearch = new URLSearchParams(searchInput.search);\r\n        return URLSearch.get(\"q\") || \"\";\r\n    }, [searchInput]);\r\n\r\n    const [search, setSearch] = useState(searchQuery);\r\n    const debouncedSearch = useDebounce(search, 300);\r\n\r\n    useEffect(() => {\r\n        if (debouncedSearch.trim()) {\r\n            navigate(`/search?q=${encodeURIComponent(debouncedSearch)}`);\r\n        }\r\n    }, [debouncedSearch, navigate]);\r\n\r\n    const handleLogout = useCallback(async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await fetch(SummaryApi.logout_user.url, {\r\n                method: SummaryApi.logout_user.method,\r\n                credentials: \"include\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                toast.success(data.message);\r\n                dispatch(setUserDetails(null));\r\n                navigate(\"/\");\r\n            } else {\r\n                toast.error(data.message);\r\n            }\r\n        } catch (error) {\r\n            toast.error(\"Logout failed. Please try again.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [dispatch, navigate, token]);\r\n\r\n    const toggleMobileMenu = useCallback(() => setMobileMenuOpen((prev) => !prev), []);\r\n    const closeMobileMenu = useCallback(() => setMobileMenuOpen(false), []);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"header-spa left-0 right-0 top-0 pt-8 mb-8 inset-0 bg-black/80 backdrop-blur-md fixed w-full z-50 border-b border-white/20 shadow-md transition-all duration-300 flex items-center justify-between px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"w-full mx-auto flex items-center justify-between\">\r\n                    {/* Menu Icon */}\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                            onClick={toggleMobileMenu}\r\n                            className=\"text-gray-500 hover:text-blue-600 md:hidden\"\r\n                            aria-expanded={mobileMenuOpen}\r\n                        >\r\n                            <FontAwesomeIcon icon={faBars} className=\"h-5 w-5\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Logo */}\r\n                    <Link to=\"/home\" className=\"hidden minecraft-font text-[14px] md:flex items-center font-extrabold text-transparent text-2xl bg-clip-text bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 mr-4 tracking-wide\">\r\n                        SXN\r\n                    </Link>\r\n\r\n                    {/* Search Input - Desktop */}\r\n                    <div className=\"hidden md:flex items-center bg-black border-2 rounded-md px-4 py-[6px] w-72 glow-border\">\r\n                        <FcSearch className=\"text-white h-5 w-5 mr-2\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search gift cards...\"\r\n                            className=\"bg-transparent minecraft-font text-white text-[12px] outline-none w-full placeholder:text-[8px] placeholder-gray-600\"\r\n                            value={search}\r\n                            onChange={(e) => setSearch(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Mobile Search */}\r\n                    <div className=\"md:hidden flex items-center w-full mx-4\">\r\n                        <div className=\"flex items-center bg-black border-2 rounded-md px-2 py-[6px] w-full glow-border\">\r\n                            <BiSearch className=\"text-yellow-700 h-5 w-5 mr-2\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search gift cards...\"\r\n                                className=\"bg-transparent minecraft-font text-white text-[12px] outline-none w-full placeholder:text-[8px] placeholder-gray-600\"\r\n                                value={search}\r\n                                onChange={(e) => setSearch(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Main Nav */}\r\n                    <nav className=\"hidden minecraft-font text-[9px] md:flex items-center gap-2\">\r\n                        <Link to=\"/record\" className=\"px-3 py-1 border border-cyan-500 text-gray-900 hover:bg-cyan-600 hover:text-white rounded transition duration-200\">\r\n                            Trade Status\r\n                        </Link>\r\n                        {/* <Link to=\"/mywallet\" className=\"px-3 py-1 border border-pink-500 text-gray-900 hover:bg-pink-600 hover:text-white rounded transition duration-200\">\r\n                            Wallet\r\n                        </Link> */}\r\n                        <Link to=\"/datapad\" className=\"px-3 py-1 border border-yellow-500 text-gray-900 hover:bg-yellow-500 hover:text-black rounded transition duration-200\">\r\n                            DataPad\r\n                        </Link>\r\n                        {user?.role === ROLE.ADMIN && (\r\n                            <Link to=\"/admin-panel\" className=\"px-3 py-1 border border-purple-500 text-gray-900 hover:bg-purple-700 hover:text-white rounded transition duration-200\">\r\n                                Admin\r\n                            </Link>\r\n                        )}\r\n                        <Link to=\"/notifications\" className=\"px-3 py-1 border border-emerald-500 text-gray-900 hover:bg-emerald-600 hover:text-white rounded relative transition duration-200\">\r\n                            <NotificationBadge />\r\n                        </Link>\r\n                        {user?._id && (\r\n                            <button\r\n                                onClick={handleLogout}\r\n                                disabled={loading}\r\n                                className=\"px-3 py-1 border border-red-500 text-gray-900 hover:bg-red-600 hover:text-white rounded transition flex items-center\"\r\n                            >\r\n                                <FontAwesomeIcon icon={faSignOutAlt} className=\"mr-1\" />\r\n                                Logout\r\n                            </button>\r\n                        )}\r\n                    </nav>\r\n                </div>\r\n\r\n                <SidePanel\r\n                    open={mobileMenuOpen}\r\n                    setOpen={setMobileMenuOpen}\r\n                    handleLogout={handleLogout}\r\n                    loading={loading}\r\n                    onCloseMenu={closeMobileMenu}\r\n                />\r\n            </header>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport const useDebounce = (value, delay) => {\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n    useEffect(() => {\r\n        const handler = setTimeout(() => {\r\n            setDebouncedValue(value);\r\n        }, delay);\r\n\r\n        return () => {\r\n            clearTimeout(handler);\r\n        };\r\n    }, [value, delay]);\r\n\r\n    return debouncedValue;\r\n};"],"names":["Header","dispatch","useDispatch","mobileMenuOpen","setMobileMenuOpen","useState","loading","setLoading","user","useSelector","state","token","useContext","Context","navigate","useNavigate","searchInput","useLocation","searchQuery","useMemo","URLSearchParams","search","get","setSearch","debouncedSearch","useDebounce","value","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","trim","encodeURIComponent","handleLogout","useCallback","async","response","fetch","SummaryApi","logout_user","url","method","credentials","headers","Authorization","data","json","success","toast","message","setUserDetails","error","toggleMobileMenu","prev","closeMobileMenu","_jsx","_Fragment","children","_jsxs","className","onClick","FontAwesomeIcon","icon","faBars","Link","to","FcSearch","type","placeholder","onChange","e","target","BiSearch","role","ROLE","ADMIN","NotificationBadge","_id","disabled","faSignOutAlt","SidePanel","open","setOpen","onCloseMenu"],"sourceRoot":""}