"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[859],{9859:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var a=r(5043),s=r(6058),n=r(3216),o=r(5475),l=r(3003),d=r(7488),i=r(8529),c=r(3032);var x=r(1067),u=r(3910),h=r(7929),m=r(6794),p=r(1552),b=r(9804),g=r(3239),f=r(579);const w=()=>{const e=(0,l.wA)(),[t,r]=(0,a.useState)(!1),[w,v]=(0,a.useState)(!1),{user:y}=(0,l.d4)((e=>e.user)),{token:j}=(0,a.useContext)(c.Ay),N=(0,n.Zp)(),k=(0,n.zy)(),C=(0,a.useMemo)((()=>new URLSearchParams(k.search).get("q")||""),[k]),[A,S]=(0,a.useState)(C),_=((e,t)=>{const[r,s]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const r=setTimeout((()=>{s(e)}),t);return()=>{clearTimeout(r)}}),[e,t]),r})(A,300);(0,a.useEffect)((()=>{_.trim()&&N(`/search?q=${encodeURIComponent(_)}`)}),[_,N]);const R=(0,a.useCallback)((async()=>{v(!0);try{const t=await fetch(p.A.logout_user.url,{method:p.A.logout_user.method,credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`}}),r=await t.json();r.success?(d.oR.success(r.message),e((0,i.m5)(null)),N("/login")):d.oR.error(r.message)}catch(t){d.oR.error("Logout failed. Please try again.")}finally{v(!1)}}),[e,N,j]),L=(0,a.useCallback)((()=>r((e=>!e))),[]),M=(0,a.useCallback)((()=>r(!1)),[]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("header",{className:"header-spa left-0 right-0 top-0 pt-8 mb-8 inset-0 bg-black/80 backdrop-blur-md fixed w-full z-50 border-b border-white/20 shadow-md transition-all duration-300 flex items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,f.jsxs)("div",{className:"w-full mx-auto flex items-center justify-between",children:[(0,f.jsx)("div",{className:"flex items-center gap-2",children:(0,f.jsx)("button",{onClick:L,className:"text-gray-500 hover:text-blue-600 md:hidden","aria-expanded":t,children:(0,f.jsx)(u.g,{icon:h.ckx,className:"h-5 w-5"})})}),(0,f.jsx)(o.N_,{to:"/",className:"hidden md:flex items-center font-extrabold text-transparent text-2xl bg-clip-text bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 mr-4 tracking-wide",children:"Secxion"}),(0,f.jsxs)("div",{className:"hidden md:flex items-center bg-black border-2 rounded-md px-4 py-1 mr-12 w-72 glow-border",children:[(0,f.jsx)(s.Mwp,{className:"text-white h-4 w-4 mr-2"}),(0,f.jsx)("input",{type:"text",placeholder:"Search gift cards...",className:"bg-transparent outline-none text-sm text-white placeholder-gray-400 w-full",value:A,onChange:e=>S(e.target.value)})]}),(0,f.jsx)("div",{className:"md:hidden flex items-center w-full mx-4",children:(0,f.jsxs)("div",{className:"flex items-center bg-black border-2 rounded-md px-2 py-1 w-full glow-border",children:[(0,f.jsx)(b.iyI,{className:"text-white h-5 w-5 mr-2"}),(0,f.jsx)("input",{type:"text",placeholder:"Search gift cards...",className:"bg-transparent outline-none text-sm text-white placeholder-gray-400 w-full",value:A,onChange:e=>S(e.target.value)})]})}),(0,f.jsxs)("nav",{className:"hidden md:flex items-center gap-3 text-sm font-semibold",children:[(0,f.jsx)(o.N_,{to:"/record",className:"px-3 py-1 border border-cyan-500 text-cyan-300 hover:bg-cyan-600 hover:text-white rounded transition duration-200",children:"Trade Status"}),(0,f.jsx)(o.N_,{to:"/mywallet",className:"px-3 py-1 border border-pink-500 text-pink-300 hover:bg-pink-600 hover:text-white rounded transition duration-200",children:"Wallet"}),(0,f.jsx)(o.N_,{to:"/datapad",className:"px-3 py-1 border border-yellow-500 text-yellow-300 hover:bg-yellow-500 hover:text-black rounded transition duration-200",children:"DataPad"}),(null===y||void 0===y?void 0:y.role)===m.A.ADMIN&&(0,f.jsx)(o.N_,{to:"/admin-panel",className:"px-3 py-1 border border-purple-500 text-purple-300 hover:bg-purple-700 hover:text-white rounded transition duration-200",children:"Admin"}),(0,f.jsx)(o.N_,{to:"/notifications",className:"px-3 py-1 border border-emerald-500 text-emerald-300 hover:bg-emerald-600 hover:text-white rounded relative transition duration-200",children:(0,f.jsx)(x.A,{})}),(null===y||void 0===y?void 0:y._id)&&(0,f.jsxs)("button",{onClick:R,disabled:w,className:"px-3 py-1 border border-red-500 text-red-300 hover:bg-red-600 hover:text-white rounded transition flex items-center",children:[(0,f.jsx)(u.g,{icon:h.GxD,className:"mr-1"}),"Logout"]})]})]}),(0,f.jsx)(g.A,{open:t,setOpen:r,handleLogout:R,loading:w,onCloseMenu:M})]})})}}}]);
//# sourceMappingURL=859.f790cc24.chunk.js.map